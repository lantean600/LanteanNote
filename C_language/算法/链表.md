---
layout: default
title: "链表"
---

## 环形链表I
```c
bool hasCycle(struct ListNode* head) {
    struct ListNode* slow = head;
    struct ListNode* fast = head;

    while (fast && fast->next) { // 防止空指针进入循环
        slow = slow->next;
        fast = fast->next->next;
        if (slow == fast) { // 找到相遇点
            return true;
        }
    }

    if (!fast || !fast->next)
        return false; // 指针置空情况下返回false
    
    return true;
}
```

## 环形链表II
```c
struct ListNode *detectCycle(struct ListNode *head) {
    struct ListNode *slow = head;
    struct ListNode *fast = head;

    while(fast && fast->next){
        slow = slow->next;
        fast = fast->next->next;

        if(fast == slow){
            break;
        }
    }

    if(!fast || !fast->next) return NULL;

    slow = head;
    while(!(fast == slow)){
        slow = slow->next;
        fast = fast->next;
    }
    return slow;
}
```

## 移除链表元素
```c
struct ListNode* removeElements(struct ListNode* head, int val) {
    struct ListNode *temp;

    while(head && head->val == val){
        temp = head;
        head = head->next;
        free(temp);
    }

    if(!(head && head->next)) return head;

    struct ListNode *pre = head;
    struct ListNode *del = head->next;

    while(del){
        if(del->val == val){
            temp = del;
            pre->next = del->next;
            del = del->next;
            free(temp);
        }
        else{
            pre = pre->next;
            del = del->next;
        }
    }

    return head;
}
```

## 删除排序链表中的重复元素
```c
struct ListNode* deleteDuplicates(struct ListNode* head) {
    struct ListNode *p = head;
    struct ListNode *temp;
    
    while(p && p->next){
        if(p->val == p->next->val){
            temp = p->next;
            p->next = p->next->next;
            free(temp);
        }
        else{
            p = p->next;
        }
    }
    
    return head;
}
```

## 链表的中间结点
```c
struct ListNode* middleNode(struct ListNode* head) {
    struct ListNode *fast = head;
    struct ListNode *slow = head;

    while(fast && fast->next) {
        slow = slow->next;
        fast = fast->next->next;
    }

    return slow;
}
```
